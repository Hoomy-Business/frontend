import{j as e,u as ze,b as qe}from"./query-vendor-yCE0qXS-.js";import{r as D,g as zt,u as qt,L as Ce}from"./react-vendor-CvpuY9Ms.js";import{n as Re,g as Rt,M as Be,a as Bt,f as ct,A as Vt,b as _t,c as lt,d as Ht}from"./MainLayout-BNeTwvB_.js";import{h as $t,i as Ne,B as _,a as Qt,n as Gt,u as Kt,S as Ee,H as Ve,T as ut,o as me,p as pe,r as he,C as Ut,d as Jt,e as Xt,b as Yt,c as ce,q as $}from"./index-42cH5BrD.js";import{B as xe}from"./badge-7FXoCMHb.js";import{A as Qe}from"./arrow-left-C-AsHpik.js";import{A as Zt}from"./arrow-right-CrjOonL-.js";import{S as dt}from"./separator-Dbciv4m9.js";import{D as Wt,a as en,b as tn,c as nn,d as sn,e as rn,f as on}from"./dialog-BnpweDKq.js";import{T as an}from"./textarea-CY0erOeW.js";import{A as Te,a as De}from"./alert-DAdm-3vK.js";import{H as _e}from"./heart-CPBaXQta.js";import{M as cn}from"./map-pin-D9rKwPG_.js";import{S as ln}from"./sparkles-8x1x_YFZ.js";import{C as He}from"./clock-DSFRbyAp.js";import{B as un,M as dn}from"./maximize-DshBwZmY.js";import{C as fn}from"./calendar-BhAecAPr.js";import{C as ft}from"./circle-check-Cikh5ACT.js";import{M as mt}from"./mail-Bvu9ZxEU.js";import{P as mn}from"./phone-B7UcHeEW.js";import{S as $e}from"./send-C6nYQK5w.js";import{U as pn}from"./users-DySw4tDt.js";import"./Logo-Bsxlbf95.js";import"./ui-vendor-3oCJfrha.js";import"./user--iiFN26U.js";import"./building-2-DW-G4Bjl.js";const hn=$t("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);function xn(t){return Object.prototype.toString.call(t)==="[object Object]"}function pt(t){return xn(t)||Array.isArray(t)}function gn(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Ue(t,n){const r=Object.keys(t),c=Object.keys(n);if(r.length!==c.length)return!1;const s=JSON.stringify(Object.keys(t.breakpoints||{})),a=JSON.stringify(Object.keys(n.breakpoints||{}));return s!==a?!1:r.every(o=>{const l=t[o],d=n[o];return typeof l=="function"?`${l}`==`${d}`:!pt(l)||!pt(d)?l===d:Ue(l,d)})}function ht(t){return t.concat().sort((n,r)=>n.name>r.name?1:-1).map(n=>n.options)}function yn(t,n){if(t.length!==n.length)return!1;const r=ht(t),c=ht(n);return r.every((s,a)=>{const o=c[a];return Ue(s,o)})}function Je(t){return typeof t=="number"}function Ge(t){return typeof t=="string"}function Ie(t){return typeof t=="boolean"}function xt(t){return Object.prototype.toString.call(t)==="[object Object]"}function O(t){return Math.abs(t)}function Xe(t){return Math.sign(t)}function ye(t,n){return O(t-n)}function vn(t,n){if(t===0||n===0||O(t)<=O(n))return 0;const r=ye(O(t),O(n));return O(r/t)}function jn(t){return Math.round(t*100)/100}function ve(t){return je(t).map(Number)}function Q(t){return t[we(t)]}function we(t){return Math.max(0,t.length-1)}function Ye(t,n){return n===we(t)}function gt(t,n=0){return Array.from(Array(t),(r,c)=>n+c)}function je(t){return Object.keys(t)}function yt(t,n){return[t,n].reduce((r,c)=>(je(c).forEach(s=>{const a=r[s],o=c[s],l=xt(a)&&xt(o);r[s]=l?yt(a,o):o}),r),{})}function Ke(t,n){return typeof n.MouseEvent<"u"&&t instanceof n.MouseEvent}function bn(t,n){const r={start:c,center:s,end:a};function c(){return 0}function s(d){return a(d)/2}function a(d){return n-d}function o(d,u){return Ge(t)?r[t](d):t(n,d,u)}return{measure:o}}function be(){let t=[];function n(s,a,o,l={passive:!0}){let d;if("addEventListener"in s)s.addEventListener(a,o,l),d=()=>s.removeEventListener(a,o,l);else{const u=s;u.addListener(o),d=()=>u.removeListener(o)}return t.push(d),c}function r(){t=t.filter(s=>s())}const c={add:n,clear:r};return c}function Nn(t,n,r,c){const s=be(),a=1e3/60;let o=null,l=0,d=0;function u(){s.add(t,"visibilitychange",()=>{t.hidden&&f()})}function v(){x(),s.clear()}function p(y){if(!d)return;o||(o=y,r(),r());const m=y-o;for(o=y,l+=m;l>=a;)r(),l-=a;const g=l/a;c(g),d&&(d=n.requestAnimationFrame(p))}function h(){d||(d=n.requestAnimationFrame(p))}function x(){n.cancelAnimationFrame(d),o=null,l=0,d=0}function f(){o=null,l=0}return{init:u,destroy:v,start:h,stop:x,update:r,render:c}}function wn(t,n){const r=n==="rtl",c=t==="y",s=c?"y":"x",a=c?"x":"y",o=!c&&r?-1:1,l=v(),d=p();function u(f){const{height:i,width:y}=f;return c?i:y}function v(){return c?"top":r?"right":"left"}function p(){return c?"bottom":r?"left":"right"}function h(f){return f*o}return{scroll:s,cross:a,startEdge:l,endEdge:d,measureSize:u,direction:h}}function re(t=0,n=0){const r=O(t-n);function c(u){return u<t}function s(u){return u>n}function a(u){return c(u)||s(u)}function o(u){return a(u)?c(u)?t:n:u}function l(u){return r?u-r*Math.ceil((u-n)/r):u}return{length:r,max:n,min:t,constrain:o,reachedAny:a,reachedMax:s,reachedMin:c,removeOffset:l}}function vt(t,n,r){const{constrain:c}=re(0,t),s=t+1;let a=o(n);function o(h){return r?O((s+h)%s):c(h)}function l(){return a}function d(h){return a=o(h),p}function u(h){return v().set(l()+h)}function v(){return vt(t,l(),r)}const p={get:l,set:d,add:u,clone:v};return p}function Sn(t,n,r,c,s,a,o,l,d,u,v,p,h,x,f,i,y,m,g){const{cross:b,direction:w}=t,A=["INPUT","SELECT","TEXTAREA"],E={passive:!1},S=be(),C=be(),I=re(50,225).constrain(x.measure(20)),P={mouse:300,touch:400},L={mouse:500,touch:600},j=f?43:25;let T=!1,k=0,q=0,te=!1,W=!1,U=!1,J=!1;function le(N){if(!g)return;function M(B){(Ie(g)||g(N,B))&&de(B)}const z=n;S.add(z,"dragstart",B=>B.preventDefault(),E).add(z,"touchmove",()=>{},E).add(z,"touchend",()=>{}).add(z,"touchstart",M).add(z,"mousedown",M).add(z,"touchcancel",R).add(z,"contextmenu",R).add(z,"click",Y,!0)}function G(){S.clear(),C.clear()}function ie(){const N=J?r:n;C.add(N,"touchmove",V,E).add(N,"touchend",R).add(N,"mousemove",V,E).add(N,"mouseup",R)}function oe(N){const M=N.nodeName||"";return A.includes(M)}function X(){return(f?L:P)[J?"mouse":"touch"]}function ue(N,M){const z=p.add(Xe(N)*-1),B=v.byDistance(N,!f).distance;return f||O(N)<I?B:y&&M?B*.5:v.byIndex(z.get(),0).distance}function de(N){const M=Ke(N,c);J=M,U=f&&M&&!N.buttons&&T,T=ye(s.get(),o.get())>=2,!(M&&N.button!==0)&&(oe(N.target)||(te=!0,a.pointerDown(N),u.useFriction(0).useDuration(0),s.set(o),ie(),k=a.readPoint(N),q=a.readPoint(N,b),h.emit("pointerDown")))}function V(N){if(!Ke(N,c)&&N.touches.length>=2)return R(N);const z=a.readPoint(N),B=a.readPoint(N,b),K=ye(z,k),Z=ye(B,q);if(!W&&!J&&(!N.cancelable||(W=K>Z,!W)))return R(N);const ne=a.pointerMove(N);K>i&&(U=!0),u.useFriction(.3).useDuration(.75),l.start(),s.add(w(ne)),N.preventDefault()}function R(N){const z=v.byDistance(0,!1).index!==p.get(),B=a.pointerUp(N)*X(),K=ue(w(B),z),Z=vn(B,K),ne=j-10*Z,ee=m+Z/50;W=!1,te=!1,C.clear(),u.useDuration(ne).useFriction(ee),d.distance(K,!f),J=!1,h.emit("pointerUp")}function Y(N){U&&(N.stopPropagation(),N.preventDefault(),U=!1)}function H(){return te}return{init:le,destroy:G,pointerDown:H}}function Cn(t,n){let c,s;function a(p){return p.timeStamp}function o(p,h){const f=`client${(h||t.scroll)==="x"?"X":"Y"}`;return(Ke(p,n)?p:p.touches[0])[f]}function l(p){return c=p,s=p,o(p)}function d(p){const h=o(p)-o(s),x=a(p)-a(c)>170;return s=p,x&&(c=p),h}function u(p){if(!c||!s)return 0;const h=o(s)-o(c),x=a(p)-a(c),f=a(p)-a(s)>170,i=h/x;return x&&!f&&O(i)>.1?i:0}return{pointerDown:l,pointerMove:d,pointerUp:u,readPoint:o}}function En(){function t(r){const{offsetTop:c,offsetLeft:s,offsetWidth:a,offsetHeight:o}=r;return{top:c,right:s+a,bottom:c+o,left:s,width:a,height:o}}return{measure:t}}function Tn(t){function n(c){return t*(c/100)}return{measure:n}}function Dn(t,n,r,c,s,a,o){const l=[t].concat(c);let d,u,v=[],p=!1;function h(y){return s.measureSize(o.measure(y))}function x(y){if(!a)return;u=h(t),v=c.map(h);function m(g){for(const b of g){if(p)return;const w=b.target===t,A=c.indexOf(b.target),E=w?u:v[A],S=h(w?t:c[A]);if(O(S-E)>=.5){y.reInit(),n.emit("resize");break}}}d=new ResizeObserver(g=>{(Ie(a)||a(y,g))&&m(g)}),r.requestAnimationFrame(()=>{l.forEach(g=>d.observe(g))})}function f(){p=!0,d&&d.disconnect()}return{init:x,destroy:f}}function An(t,n,r,c,s,a){let o=0,l=0,d=s,u=a,v=t.get(),p=0;function h(){const E=c.get()-t.get(),S=!d;let C=0;return S?(o=0,r.set(c),t.set(c),C=E):(r.set(t),o+=E/d,o*=u,v+=o,t.add(o),C=v-p),l=Xe(C),p=v,A}function x(){const E=c.get()-n.get();return O(E)<.001}function f(){return d}function i(){return l}function y(){return o}function m(){return b(s)}function g(){return w(a)}function b(E){return d=E,A}function w(E){return u=E,A}const A={direction:i,duration:f,velocity:y,seek:h,settled:x,useBaseFriction:g,useBaseDuration:m,useFriction:w,useDuration:b};return A}function In(t,n,r,c,s){const a=s.measure(10),o=s.measure(50),l=re(.1,.99);let d=!1;function u(){return!(d||!t.reachedAny(r.get())||!t.reachedAny(n.get()))}function v(x){if(!u())return;const f=t.reachedMin(n.get())?"min":"max",i=O(t[f]-n.get()),y=r.get()-n.get(),m=l.constrain(i/o);r.subtract(y*m),!x&&O(y)<a&&(r.set(t.constrain(r.get())),c.useDuration(25).useBaseFriction())}function p(x){d=!x}return{shouldConstrain:u,constrain:v,toggleActive:p}}function Ln(t,n,r,c,s){const a=re(-n+t,0),o=p(),l=v(),d=h();function u(f,i){return ye(f,i)<=1}function v(){const f=o[0],i=Q(o),y=o.lastIndexOf(f),m=o.indexOf(i)+1;return re(y,m)}function p(){return r.map((f,i)=>{const{min:y,max:m}=a,g=a.constrain(f),b=!i,w=Ye(r,i);return b?m:w||u(y,g)?y:u(m,g)?m:g}).map(f=>parseFloat(f.toFixed(3)))}function h(){if(n<=t+s)return[a.max];if(c==="keepSnaps")return o;const{min:f,max:i}=l;return o.slice(f,i)}return{snapsContained:d,scrollContainLimit:l}}function Pn(t,n,r){const c=n[0],s=r?c-t:Q(n);return{limit:re(s,c)}}function kn(t,n,r,c){const a=n.min+.1,o=n.max+.1,{reachedMin:l,reachedMax:d}=re(a,o);function u(h){return h===1?d(r.get()):h===-1?l(r.get()):!1}function v(h){if(!u(h))return;const x=t*(h*-1);c.forEach(f=>f.add(x))}return{loop:v}}function Mn(t){const{max:n,length:r}=t;function c(a){const o=a-n;return r?o/-r:0}return{get:c}}function Fn(t,n,r,c,s){const{startEdge:a,endEdge:o}=t,{groupSlides:l}=s,d=p().map(n.measure),u=h(),v=x();function p(){return l(c).map(i=>Q(i)[o]-i[0][a]).map(O)}function h(){return c.map(i=>r[a]-i[a]).map(i=>-O(i))}function x(){return l(u).map(i=>i[0]).map((i,y)=>i+d[y])}return{snaps:u,snapsAligned:v}}function On(t,n,r,c,s,a){const{groupSlides:o}=s,{min:l,max:d}=c,u=v();function v(){const h=o(a),x=!t||n==="keepSnaps";return r.length===1?[a]:x?h:h.slice(l,d).map((f,i,y)=>{const m=!i,g=Ye(y,i);if(m){const b=Q(y[0])+1;return gt(b)}if(g){const b=we(a)-Q(y)[0]+1;return gt(b,Q(y)[0])}return f})}return{slideRegistry:u}}function zn(t,n,r,c,s){const{reachedAny:a,removeOffset:o,constrain:l}=c;function d(f){return f.concat().sort((i,y)=>O(i)-O(y))[0]}function u(f){const i=t?o(f):l(f),y=n.map((g,b)=>({diff:v(g-i,0),index:b})).sort((g,b)=>O(g.diff)-O(b.diff)),{index:m}=y[0];return{index:m,distance:i}}function v(f,i){const y=[f,f+r,f-r];if(!t)return f;if(!i)return d(y);const m=y.filter(g=>Xe(g)===i);return m.length?d(m):Q(y)-r}function p(f,i){const y=n[f]-s.get(),m=v(y,i);return{index:f,distance:m}}function h(f,i){const y=s.get()+f,{index:m,distance:g}=u(y),b=!t&&a(y);if(!i||b)return{index:m,distance:f};const w=n[m]-g,A=f+v(w,0);return{index:m,distance:A}}return{byDistance:h,byIndex:p,shortcut:v}}function qn(t,n,r,c,s,a,o){function l(p){const h=p.distance,x=p.index!==n.get();a.add(h),h&&(c.duration()?t.start():(t.update(),t.render(1),t.update())),x&&(r.set(n.get()),n.set(p.index),o.emit("select"))}function d(p,h){const x=s.byDistance(p,h);l(x)}function u(p,h){const x=n.clone().set(p),f=s.byIndex(x.get(),h);l(f)}return{distance:d,index:u}}function Rn(t,n,r,c,s,a,o,l){const d={passive:!0,capture:!0};let u=0;function v(x){if(!l)return;function f(i){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const g=r.findIndex(b=>b.includes(i));Je(g)&&(s.useDuration(0),c.index(g,0),o.emit("slideFocus"))}a.add(document,"keydown",p,!1),n.forEach((i,y)=>{a.add(i,"focus",m=>{(Ie(l)||l(x,m))&&f(y)},d)})}function p(x){x.code==="Tab"&&(u=new Date().getTime())}return{init:v}}function ge(t){let n=t;function r(){return n}function c(d){n=o(d)}function s(d){n+=o(d)}function a(d){n-=o(d)}function o(d){return Je(d)?d:d.get()}return{get:r,set:c,add:s,subtract:a}}function jt(t,n){const r=t.scroll==="x"?o:l,c=n.style;let s=null,a=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function l(h){return`translate3d(0px,${h}px,0px)`}function d(h){if(a)return;const x=jn(t.direction(h));x!==s&&(c.transform=r(x),s=x)}function u(h){a=!h}function v(){a||(c.transform="",n.getAttribute("style")||n.removeAttribute("style"))}return{clear:v,to:d,toggleActive:u}}function Bn(t,n,r,c,s,a,o,l,d){const v=ve(s),p=ve(s).reverse(),h=m().concat(g());function x(S,C){return S.reduce((I,P)=>I-s[P],C)}function f(S,C){return S.reduce((I,P)=>x(I,C)>0?I.concat([P]):I,[])}function i(S){return a.map((C,I)=>({start:C-c[I]+.5+S,end:C+n-.5+S}))}function y(S,C,I){const P=i(C);return S.map(L=>{const j=I?0:-r,T=I?r:0,k=I?"end":"start",q=P[L][k];return{index:L,loopPoint:q,slideLocation:ge(-1),translate:jt(t,d[L]),target:()=>l.get()>q?j:T}})}function m(){const S=o[0],C=f(p,S);return y(C,r,!1)}function g(){const S=n-o[0]-1,C=f(v,S);return y(C,-r,!0)}function b(){return h.every(({index:S})=>{const C=v.filter(I=>I!==S);return x(C,n)<=.1})}function w(){h.forEach(S=>{const{target:C,translate:I,slideLocation:P}=S,L=C();L!==P.get()&&(I.to(L),P.set(L))})}function A(){h.forEach(S=>S.translate.clear())}return{canLoop:b,clear:A,loop:w,loopPoints:h}}function Vn(t,n,r){let c,s=!1;function a(d){if(!r)return;function u(v){for(const p of v)if(p.type==="childList"){d.reInit(),n.emit("slidesChanged");break}}c=new MutationObserver(v=>{s||(Ie(r)||r(d,v))&&u(v)}),c.observe(t,{childList:!0})}function o(){c&&c.disconnect(),s=!0}return{init:a,destroy:o}}function _n(t,n,r,c){const s={};let a=null,o=null,l,d=!1;function u(){l=new IntersectionObserver(f=>{d||(f.forEach(i=>{const y=n.indexOf(i.target);s[y]=i}),a=null,o=null,r.emit("slidesInView"))},{root:t.parentElement,threshold:c}),n.forEach(f=>l.observe(f))}function v(){l&&l.disconnect(),d=!0}function p(f){return je(s).reduce((i,y)=>{const m=parseInt(y),{isIntersecting:g}=s[m];return(f&&g||!f&&!g)&&i.push(m),i},[])}function h(f=!0){if(f&&a)return a;if(!f&&o)return o;const i=p(f);return f&&(a=i),f||(o=i),i}return{init:u,destroy:v,get:h}}function Hn(t,n,r,c,s,a){const{measureSize:o,startEdge:l,endEdge:d}=t,u=r[0]&&s,v=f(),p=i(),h=r.map(o),x=y();function f(){if(!u)return 0;const g=r[0];return O(n[l]-g[l])}function i(){if(!u)return 0;const g=a.getComputedStyle(Q(c));return parseFloat(g.getPropertyValue(`margin-${d}`))}function y(){return r.map((g,b,w)=>{const A=!b,E=Ye(w,b);return A?h[b]+v:E?h[b]+p:w[b+1][l]-g[l]}).map(O)}return{slideSizes:h,slideSizesWithGaps:x,startGap:v,endGap:p}}function $n(t,n,r,c,s,a,o,l,d){const{startEdge:u,endEdge:v,direction:p}=t,h=Je(r);function x(m,g){return ve(m).filter(b=>b%g===0).map(b=>m.slice(b,b+g))}function f(m){return m.length?ve(m).reduce((g,b,w)=>{const A=Q(g)||0,E=A===0,S=b===we(m),C=s[u]-a[A][u],I=s[u]-a[b][v],P=!c&&E?p(o):0,L=!c&&S?p(l):0,j=O(I-L-(C+P));return w&&j>n+d&&g.push(b),S&&g.push(m.length),g},[]).map((g,b,w)=>{const A=Math.max(w[b-1]||0);return m.slice(A,g)}):[]}function i(m){return h?x(m,r):f(m)}return{groupSlides:i}}function Qn(t,n,r,c,s,a,o){const{align:l,axis:d,direction:u,startIndex:v,loop:p,duration:h,dragFree:x,dragThreshold:f,inViewThreshold:i,slidesToScroll:y,skipSnaps:m,containScroll:g,watchResize:b,watchSlides:w,watchDrag:A,watchFocus:E}=a,S=2,C=En(),I=C.measure(n),P=r.map(C.measure),L=wn(d,u),j=L.measureSize(I),T=Tn(j),k=bn(l,j),q=!p&&!!g,te=p||!!g,{slideSizes:W,slideSizesWithGaps:U,startGap:J,endGap:le}=Hn(L,I,P,r,te,s),G=$n(L,j,y,p,I,P,J,le,S),{snaps:ie,snapsAligned:oe}=Fn(L,k,I,P,G),X=-Q(ie)+Q(U),{snapsContained:ue,scrollContainLimit:de}=Ln(j,X,oe,g,S),V=q?ue:oe,{limit:R}=Pn(X,V,p),Y=vt(we(V),v,p),H=Y.clone(),F=ve(r),N=({dragHandler:ae,scrollBody:Fe,scrollBounds:Oe,options:{loop:Se}})=>{Se||Oe.constrain(ae.pointerDown()),Fe.seek()},M=({scrollBody:ae,translate:Fe,location:Oe,offsetLocation:Se,previousLocation:At,scrollLooper:It,slideLooper:Lt,dragHandler:Pt,animation:kt,eventHandler:nt,scrollBounds:Mt,options:{loop:st}},rt)=>{const it=ae.settled(),Ft=!Mt.shouldConstrain(),ot=st?it:it&&Ft,at=ot&&!Pt.pointerDown();at&&kt.stop();const Ot=Oe.get()*rt+At.get()*(1-rt);Se.set(Ot),st&&(It.loop(ae.direction()),Lt.loop()),Fe.to(Se.get()),at&&nt.emit("settle"),ot||nt.emit("scroll")},z=Nn(c,s,()=>N(Me),ae=>M(Me,ae)),B=.68,K=V[Y.get()],Z=ge(K),ne=ge(K),ee=ge(K),se=ge(K),fe=An(Z,ee,ne,se,h,B),Pe=zn(p,V,X,R,se),ke=qn(z,Y,H,fe,Pe,se,o),We=Mn(R),et=be(),Tt=_n(n,r,o,i),{slideRegistry:tt}=On(q,g,V,de,G,F),Dt=Rn(t,r,tt,ke,fe,et,o,E),Me={ownerDocument:c,ownerWindow:s,eventHandler:o,containerRect:I,slideRects:P,animation:z,axis:L,dragHandler:Sn(L,t,c,s,se,Cn(L,s),Z,z,ke,fe,Pe,Y,o,T,x,f,m,B,A),eventStore:et,percentOfView:T,index:Y,indexPrevious:H,limit:R,location:Z,offsetLocation:ee,previousLocation:ne,options:a,resizeHandler:Dn(n,o,s,r,L,b,C),scrollBody:fe,scrollBounds:In(R,ee,se,fe,T),scrollLooper:kn(X,R,ee,[Z,ee,ne,se]),scrollProgress:We,scrollSnapList:V.map(We.get),scrollSnaps:V,scrollTarget:Pe,scrollTo:ke,slideLooper:Bn(L,j,X,W,U,ie,V,ee,r),slideFocus:Dt,slidesHandler:Vn(n,o,w),slidesInView:Tt,slideIndexes:F,slideRegistry:tt,slidesToScroll:G,target:se,translate:jt(L,n)};return Me}function Gn(){let t={},n;function r(u){n=u}function c(u){return t[u]||[]}function s(u){return c(u).forEach(v=>v(n,u)),d}function a(u,v){return t[u]=c(u).concat([v]),d}function o(u,v){return t[u]=c(u).filter(p=>p!==v),d}function l(){t={}}const d={init:r,emit:s,off:o,on:a,clear:l};return d}const Kn={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Un(t){function n(a,o){return yt(a,o||{})}function r(a){const o=a.breakpoints||{},l=je(o).filter(d=>t.matchMedia(d).matches).map(d=>o[d]).reduce((d,u)=>n(d,u),{});return n(a,l)}function c(a){return a.map(o=>je(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(t.matchMedia)}return{mergeOptions:n,optionsAtMedia:r,optionsMediaQueries:c}}function Jn(t){let n=[];function r(a,o){return n=o.filter(({options:l})=>t.optionsAtMedia(l).active!==!1),n.forEach(l=>l.init(a,t)),o.reduce((l,d)=>Object.assign(l,{[d.name]:d}),{})}function c(){n=n.filter(a=>a.destroy())}return{init:r,destroy:c}}function Ae(t,n,r){const c=t.ownerDocument,s=c.defaultView,a=Un(s),o=Jn(a),l=be(),d=Gn(),{mergeOptions:u,optionsAtMedia:v,optionsMediaQueries:p}=a,{on:h,off:x,emit:f}=d,i=L;let y=!1,m,g=u(Kn,Ae.globalOptions),b=u(g),w=[],A,E,S;function C(){const{container:F,slides:N}=b;E=(Ge(F)?t.querySelector(F):F)||t.children[0];const z=Ge(N)?E.querySelectorAll(N):N;S=[].slice.call(z||E.children)}function I(F){const N=Qn(t,E,S,c,s,F,d);if(F.loop&&!N.slideLooper.canLoop()){const M=Object.assign({},F,{loop:!1});return I(M)}return N}function P(F,N){y||(g=u(g,F),b=v(g),w=N||w,C(),m=I(b),p([g,...w.map(({options:M})=>M)]).forEach(M=>l.add(M,"change",L)),b.active&&(m.translate.to(m.location.get()),m.animation.init(),m.slidesInView.init(),m.slideFocus.init(H),m.eventHandler.init(H),m.resizeHandler.init(H),m.slidesHandler.init(H),m.options.loop&&m.slideLooper.loop(),E.offsetParent&&S.length&&m.dragHandler.init(H),A=o.init(H,w)))}function L(F,N){const M=G();j(),P(u({startIndex:M},F),N),d.emit("reInit")}function j(){m.dragHandler.destroy(),m.eventStore.clear(),m.translate.clear(),m.slideLooper.clear(),m.resizeHandler.destroy(),m.slidesHandler.destroy(),m.slidesInView.destroy(),m.animation.destroy(),o.destroy(),l.clear()}function T(){y||(y=!0,l.clear(),j(),d.emit("destroy"),d.clear())}function k(F,N,M){!b.active||y||(m.scrollBody.useBaseFriction().useDuration(N===!0?0:b.duration),m.scrollTo.index(F,M||0))}function q(F){const N=m.index.add(1).get();k(N,F,-1)}function te(F){const N=m.index.add(-1).get();k(N,F,1)}function W(){return m.index.add(1).get()!==G()}function U(){return m.index.add(-1).get()!==G()}function J(){return m.scrollSnapList}function le(){return m.scrollProgress.get(m.offsetLocation.get())}function G(){return m.index.get()}function ie(){return m.indexPrevious.get()}function oe(){return m.slidesInView.get()}function X(){return m.slidesInView.get(!1)}function ue(){return A}function de(){return m}function V(){return t}function R(){return E}function Y(){return S}const H={canScrollNext:W,canScrollPrev:U,containerNode:R,internalEngine:de,destroy:T,off:x,on:h,emit:f,plugins:ue,previousScrollSnap:ie,reInit:i,rootNode:V,scrollNext:q,scrollPrev:te,scrollProgress:le,scrollSnapList:J,scrollTo:k,selectedScrollSnap:G,slideNodes:Y,slidesInView:oe,slidesNotInView:X};return P(n,r),setTimeout(()=>d.emit("init"),0),H}Ae.globalOptions=void 0;function Ze(t={},n=[]){const r=D.useRef(t),c=D.useRef(n),[s,a]=D.useState(),[o,l]=D.useState(),d=D.useCallback(()=>{s&&s.reInit(r.current,c.current)},[s]);return D.useEffect(()=>{Ue(r.current,t)||(r.current=t,d())},[t,d]),D.useEffect(()=>{yn(c.current,n)||(c.current=n,d())},[n,d]),D.useEffect(()=>{if(gn()&&o){Ae.globalOptions=Ze.globalOptions;const u=Ae(o,r.current,c.current);return a(u),()=>u.destroy()}else a(void 0)},[o,a]),[l,s]}Ze.globalOptions=void 0;const bt=D.createContext(null);function Le(){const t=D.useContext(bt);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const Nt=D.forwardRef(({orientation:t="horizontal",opts:n,setApi:r,plugins:c,className:s,children:a,...o},l)=>{const[d,u]=Ze({...n,axis:t==="horizontal"?"x":"y"},c),[v,p]=D.useState(!1),[h,x]=D.useState(!1),f=D.useCallback(g=>{g&&(p(g.canScrollPrev()),x(g.canScrollNext()))},[]),i=D.useCallback(()=>{u==null||u.scrollPrev()},[u]),y=D.useCallback(()=>{u==null||u.scrollNext()},[u]),m=D.useCallback(g=>{g.key==="ArrowLeft"?(g.preventDefault(),i()):g.key==="ArrowRight"&&(g.preventDefault(),y())},[i,y]);return D.useEffect(()=>{!u||!r||r(u)},[u,r]),D.useEffect(()=>{if(u)return f(u),u.on("reInit",f),u.on("select",f),()=>{u==null||u.off("select",f)}},[u,f]),e.jsx(bt.Provider,{value:{carouselRef:d,api:u,opts:n,orientation:t||((n==null?void 0:n.axis)==="y"?"vertical":"horizontal"),scrollPrev:i,scrollNext:y,canScrollPrev:v,canScrollNext:h},children:e.jsx("div",{ref:l,onKeyDownCapture:m,className:Ne("relative",s),role:"region","aria-roledescription":"carousel",...o,children:a})})});Nt.displayName="Carousel";const wt=D.forwardRef(({className:t,...n},r)=>{const{carouselRef:c,orientation:s}=Le();return e.jsx("div",{ref:c,className:"overflow-hidden",children:e.jsx("div",{ref:r,className:Ne("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...n})})});wt.displayName="CarouselContent";const St=D.forwardRef(({className:t,...n},r)=>{const{orientation:c}=Le();return e.jsx("div",{ref:r,role:"group","aria-roledescription":"slide",className:Ne("min-w-0 shrink-0 grow-0 basis-full",c==="horizontal"?"pl-4":"pt-4",t),...n})});St.displayName="CarouselItem";const Ct=D.forwardRef(({className:t,variant:n="outline",size:r="icon",...c},s)=>{const{orientation:a,scrollPrev:o,canScrollPrev:l}=Le();return e.jsxs(_,{ref:s,variant:n,size:r,className:Ne("absolute h-8 w-8 rounded-full",a==="horizontal"?"left-2 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:o,...c,children:[e.jsx(Qe,{className:"h-5 w-5",strokeWidth:2.5}),e.jsx("span",{className:"sr-only",children:"Previous slide"})]})});Ct.displayName="CarouselPrevious";const Et=D.forwardRef(({className:t,variant:n="outline",size:r="icon",...c},s)=>{const{orientation:a,scrollNext:o,canScrollNext:l}=Le();return e.jsxs(_,{ref:s,variant:n,size:r,className:Ne("absolute h-8 w-8 rounded-full",a==="horizontal"?"right-2 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!l,onClick:o,...c,children:[e.jsx(Zt,{className:"h-5 w-5",strokeWidth:2.5}),e.jsx("span",{className:"sr-only",children:"Next slide"})]})});Et.displayName="CarouselNext";function Ns(){const[,t]=zt("/properties/:id"),[,n]=qt(),{isAuthenticated:r,isStudent:c,user:s}=Qt(),a=t==null?void 0:t.id,{toast:o}=Gt(),{t:l}=Kt(),[d,u]=D.useState(""),[v,p]=D.useState(!1),h=a&&a!=="create"&&!isNaN(Number(a))&&Number(a)>0,x=h?Number(a):null,f=D.useRef(!1);D.useEffect(()=>{a&&!h&&!f.current&&(f.current=!0,n(a==="create"?"/properties/create":"/properties")),a!==(t==null?void 0:t.id)&&(f.current=!1)},[a,h,n,t==null?void 0:t.id]);const{data:i,isLoading:y}=ze({queryKey:[`/properties/${x}`],enabled:!!x,queryFn:async()=>{if(!x)throw new Error("Invalid property ID");return ce("GET",`/properties/${x}`)},staleTime:1e3*60*5,gcTime:1e3*60*15}),m=qe({mutationFn:j=>ce("POST","/requests",j),onSuccess:()=>{o({title:"Demande envoy√©e",description:"Votre demande a √©t√© envoy√©e au propri√©taire."}),p(!1),u(""),$.invalidateQueries({queryKey:["/requests/check",x]}),$.invalidateQueries({queryKey:["/requests/sent"]})},onError:j=>{o({title:"Erreur",description:j.message||"Impossible d'envoyer la demande. Veuillez r√©essayer.",variant:"destructive"})}}),g=()=>{!x||!d.trim()||m.mutate({property_id:x,message:d})},{data:b}=ze({queryKey:["/favorites"],enabled:!!x&&r,queryFn:async()=>{const j=await ce("GET","/favorites");return j&&Array.isArray(j.favorites)?j.favorites:Array.isArray(j)?j:[]},staleTime:1e3*60*5,gcTime:1e3*60*15,refetchOnMount:!0,select:j=>j?Array.isArray(j)?j:j&&typeof j=="object"&&j.favorites&&Array.isArray(j.favorites)?j.favorites:[]:[]}),w=D.useMemo(()=>!b||!x||!Array.isArray(b)?!1:b.some(j=>j&&j.id&&Number(j.id)===Number(x)),[b,x]),A=qe({mutationFn:j=>ce("POST","/favorites",{property_id:j}),onMutate:async j=>{await $.cancelQueries({queryKey:["/favorites"]});const T=$.getQueryData(["/favorites"]);return T&&Array.isArray(T)&&i&&(T.some(q=>q&&q.id&&Number(q.id)===Number(j))||$.setQueryData(["/favorites"],[...T,i])),{previousFavorites:T}},onError:(j,T,k)=>{console.error("‚ùå Erreur lors de l'ajout aux favoris:",j),k!=null&&k.previousFavorites&&$.setQueryData(["/favorites"],k.previousFavorites),o({title:"Erreur",description:j.message||"√âchec de l'ajout aux favoris",variant:"destructive"})},onSuccess:()=>{o({title:"Succ√®s",description:"Propri√©t√© ajout√©e aux favoris"}),$.invalidateQueries({queryKey:["/favorites"]})}}),E=qe({mutationFn:j=>ce("DELETE",`/favorites/${j}`),onMutate:async j=>{await $.cancelQueries({queryKey:["/favorites"]});const T=$.getQueryData(["/favorites"]);return T&&$.setQueryData(["/favorites"],T.filter(k=>Number(k.id)!==Number(j))),{previousFavorites:T}},onError:(j,T,k)=>{console.error("‚ùå Erreur lors de la suppression des favoris:",j),k!=null&&k.previousFavorites&&$.setQueryData(["/favorites"],k.previousFavorites),o({title:"Erreur",description:j.message||"√âchec de la suppression des favoris",variant:"destructive"})},onSuccess:()=>{o({title:"Succ√®s",description:"Propri√©t√© retir√©e des favoris"}),$.invalidateQueries({queryKey:["/favorites"]})}}),S=D.useCallback(()=>{if(!r){n(x?`/login?redirect=/properties/${x}`:"/login");return}x&&(w?E.mutate(x):A.mutate(x))},[x,w,E,A,r,n]),C=D.useMemo(()=>i?i.photos&&i.photos.length>0?i.photos.map(j=>Re(j.photo_url)):i.main_photo?[Re(i.main_photo)]:['data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="300"%3E%3Crect fill="%23e5e7eb" width="400" height="300"/%3E%3Ctext fill="%239ca3af" x="50%25" y="50%25" text-anchor="middle" dy=".3em" font-family="system-ui" font-size="16"%3EImage non disponible%3C/text%3E%3C/svg%3E']:['data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="300"%3E%3Crect fill="%23e5e7eb" width="400" height="300"/%3E%3Ctext fill="%239ca3af" x="50%25" y="50%25" text-anchor="middle" dy=".3em" font-family="system-ui" font-size="16"%3EImage non disponible%3C/text%3E%3C/svg%3E'],[i==null?void 0:i.photos,i==null?void 0:i.main_photo]),I=D.useMemo(()=>i?Rt(i):"O",[i]),{data:P}=ze({queryKey:["/requests/check",x],enabled:!!x&&r&&c,queryFn:async()=>{if(!x)return null;try{return await ce("GET",`/requests/check?property_id=${x}`)}catch{return null}},retry:!1}),L=D.useMemo(()=>{if(!i)return!1;const j=(s==null?void 0:s.role)==="student"||c&&!(s!=null&&s.role),T=(s==null?void 0:s.id)&&i.owner_id&&s.id!==i.owner_id;return r&&j&&T},[r,c,s==null?void 0:s.id,s==null?void 0:s.role,i==null?void 0:i.owner_id]);return y?e.jsx(Be,{children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(Ee,{className:"h-96 w-full mb-8"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(Ee,{className:"h-32 w-full"}),e.jsx(Ee,{className:"h-64 w-full"})]}),e.jsx("div",{children:e.jsx(Ee,{className:"h-96 w-full"})})]})]})}):i?e.jsx(Be,{children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(Ce,{href:"/properties",children:e.jsxs(_,{variant:"ghost",className:"mb-4","data-testid":"button-back",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),l("property.back")]})}),e.jsx("div",{className:"mb-8",children:C.length>1?e.jsxs(Nt,{className:"w-full",children:[e.jsx(wt,{children:C.map((j,T)=>e.jsx(St,{children:e.jsx("div",{className:"aspect-[16/9] md:aspect-[21/9] overflow-hidden rounded-lg bg-muted",children:e.jsx("img",{src:j,alt:`${i.title} - Image ${T+1}`,className:"w-full h-full object-cover transition-opacity duration-200",loading:T===0?"eager":"lazy",decoding:T===0?"sync":"async",fetchpriority:T===0?"high":"low",onError:k=>{const q=k.currentTarget;q.src.includes("data:image")||(q.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="300"%3E%3Crect fill="%23e5e7eb" width="400" height="300"/%3E%3Ctext fill="%239ca3af" x="50%25" y="50%25" text-anchor="middle" dy=".3em" font-family="system-ui" font-size="16"%3EImage non disponible%3C/text%3E%3C/svg%3E')}})})},T))}),e.jsx(Ct,{className:"!left-6 sm:!left-8 md:!left-12 lg:!left-16 bg-black/40 hover:bg-black/70 backdrop-blur-sm text-white border-0 shadow-lg h-10 w-10 z-20 hover:scale-110 active:scale-95"}),e.jsx(Et,{className:"!right-6 sm:!right-8 md:!right-12 lg:!right-16 bg-black/40 hover:bg-black/70 backdrop-blur-sm text-white border-0 shadow-lg h-10 w-10 z-20 hover:scale-110 active:scale-95"})]}):e.jsx("div",{className:"aspect-[16/9] md:aspect-[21/9] overflow-hidden rounded-lg bg-muted",children:e.jsx("img",{src:C[0],alt:i.title,className:"w-full h-full object-cover transition-opacity duration-200",loading:"eager",decoding:"sync",fetchpriority:"high",sizes:"100vw",onError:j=>{const T=j.currentTarget;T.src.includes("data:image")||(T.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="300"%3E%3Crect fill="%23e5e7eb" width="400" height="300"/%3E%3Ctext fill="%239ca3af" x="50%25" y="50%25" text-anchor="middle" dy=".3em" font-family="system-ui" font-size="16"%3EImage non disponible%3C/text%3E%3C/svg%3E')}})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-property-title",children:i.title}),r&&c&&e.jsx(_,{size:"icon",variant:w?"default":"outline",onClick:S,disabled:A.isPending||E.isPending,className:`transition-all ${w?"bg-primary text-primary-foreground":"hover:bg-muted"}`,"data-testid":"button-favorite","aria-label":w?"Remove from favorites":"Add to favorites",children:e.jsx(_e,{className:`h-5 w-5 transition-all ${w?"fill-current":""}`})}),!r&&e.jsx(_,{size:"icon",variant:"outline",onClick:()=>n(`/login?redirect=/properties/${i.id}`),className:"hover:bg-muted","data-testid":"button-favorite-login","aria-label":"Sign in to add to favorites",children:e.jsx(_e,{className:"h-5 w-5"})})]}),e.jsxs("p",{className:"text-muted-foreground flex items-center gap-1",children:[e.jsx(cn,{className:"h-4 w-4"}),i.address,", ",i.city_name,", ",i.canton_code," ",i.postal_code]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-baseline justify-end gap-2 mb-1",children:[e.jsxs("div",{className:"text-3xl font-bold text-primary","data-testid":"text-property-price",children:["CHF ",i.price.toLocaleString()]}),e.jsxs(xe,{variant:"secondary",className:"text-xs",children:[e.jsx(ln,{className:"h-3 w-3 mr-1"}),"Excellent prix"]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground flex items-center justify-end gap-1",children:[e.jsx(He,{className:"h-3 w-3"}),"par mois"]}),i.rooms&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["‚âà CHF ",Math.round(i.price/(i.rooms||1)).toLocaleString(),"/pi√®ce"]})]})]}),e.jsx(ut,{children:e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[i.rooms&&e.jsxs(me,{children:[e.jsx(pe,{asChild:!0,children:e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-muted/50 hover:bg-muted transition-colors cursor-help",children:[e.jsx(Ve,{className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"font-medium",children:i.rooms}),e.jsxs("span",{className:"text-muted-foreground",children:["pi√®ce",i.rooms>1?"s":""]})]})}),e.jsx(he,{children:e.jsx("p",{children:"Nombre de pi√®ces"})})]}),i.bathrooms&&e.jsxs(me,{children:[e.jsx(pe,{asChild:!0,children:e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-muted/50 hover:bg-muted transition-colors cursor-help",children:[e.jsx(un,{className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"font-medium",children:i.bathrooms}),e.jsxs("span",{className:"text-muted-foreground",children:["salle",i.bathrooms>1?"s":""," de bain"]})]})}),e.jsx(he,{children:e.jsx("p",{children:"Nombre de salles de bain"})})]}),i.surface_area&&e.jsxs(me,{children:[e.jsx(pe,{asChild:!0,children:e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-muted/50 hover:bg-muted transition-colors cursor-help",children:[e.jsx(dn,{className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"font-medium",children:i.surface_area}),e.jsx("span",{className:"text-muted-foreground",children:"m¬≤"})]})}),e.jsx(he,{children:e.jsx("p",{children:"Surface habitable"})})]}),i.available_from&&e.jsxs(me,{children:[e.jsx(pe,{asChild:!0,children:e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-muted/50 hover:bg-muted transition-colors cursor-help",children:[e.jsx(fn,{className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"text-muted-foreground",children:"Disponible d√®s"}),e.jsx("span",{className:"font-medium",children:new Date(i.available_from).toLocaleDateString("fr-CH")})]})}),e.jsx(he,{children:e.jsx("p",{children:"Date de disponibilit√©"})})]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[e.jsxs(xe,{variant:"outline",className:"gap-1",children:[e.jsx(Ve,{className:"h-3 w-3"}),i.property_type]}),e.jsx(xe,{variant:i.status==="available"?"default":"secondary",className:"gap-1",children:i.status==="available"?e.jsxs(e.Fragment,{children:[e.jsx(ft,{className:"h-3 w-3"}),"Disponible"]}):e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"h-3 w-3"}),i.status]})}),i.email_verified&&e.jsxs(xe,{variant:"secondary",className:"gap-1",children:[e.jsx(Bt,{className:"h-3 w-3"}),"Propri√©taire v√©rifi√©"]})]})]}),e.jsx(dt,{}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-semibold mb-3 flex items-center gap-2",children:[e.jsx(hn,{className:"h-5 w-5 text-primary"}),l("property.description")]}),i.description?e.jsx("div",{className:"prose prose-sm max-w-none",children:e.jsx("p",{className:"text-muted-foreground leading-relaxed font-serif whitespace-pre-wrap","data-testid":"text-description",children:i.description})}):e.jsx(Te,{children:e.jsx(De,{children:e.jsx("p",{className:"text-muted-foreground italic",children:l("property.description.empty")})})})]})]}),e.jsx("div",{children:e.jsxs(Ut,{className:"sticky top-20",children:[e.jsx(Jt,{children:e.jsx(Xt,{children:l("property.contact")})}),e.jsxs(Yt,{className:"space-y-4",children:[ct(i)&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Vt,{children:[e.jsx(_t,{src:lt(i)?Re(lt(i)):void 0}),e.jsx(Ht,{className:"bg-primary text-primary-foreground",children:I})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium","data-testid":"text-owner-name",children:ct(i)}),i.email_verified&&e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(ft,{className:"h-3 w-3 text-green-600"}),l("property.owner.verified")]})]})]}),i.email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(mt,{className:"h-4 w-4"}),e.jsx("span",{children:i.email})]}),i.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(mn,{className:"h-4 w-4"}),e.jsx("span",{children:i.phone})]}),e.jsx(dt,{}),L||r&&(c||(s==null?void 0:s.role)==="student")&&(s!=null&&s.id)&&s.id!==i.owner_id?e.jsx(ut,{children:e.jsxs("div",{className:"space-y-3",children:[r&&(c||(s==null?void 0:s.role)==="student")&&e.jsxs(me,{children:[e.jsx(pe,{asChild:!0,children:e.jsxs(_,{className:"w-full",variant:w?"default":"outline",size:"lg",onClick:S,disabled:A.isPending||E.isPending,"data-testid":"button-favorite-sidebar",children:[e.jsx(_e,{className:`h-4 w-4 mr-2 transition-all ${w?"fill-current animate-pulse":""}`}),l(w?"property.favorite.remove":"property.favorite.add")]})}),e.jsx(he,{children:e.jsx("p",{children:w?"Retirer des favoris":"Ajouter aux favoris"})})]}),P&&P.status?e.jsx(Te,{children:e.jsx(De,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium mb-1",children:"Demande d√©j√† envoy√©e"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Statut: ",e.jsx(xe,{variant:P.status==="accepted"?"default":P.status==="pending"?"secondary":"destructive",children:P.status})]})]}),e.jsx(Ce,{href:"/dashboard/student?tab=requests",children:e.jsx(_,{variant:"outline",size:"sm",children:"Voir mes demandes"})})]})})}):e.jsxs(Wt,{open:v,onOpenChange:p,children:[e.jsx(en,{asChild:!0,children:e.jsxs(_,{className:"w-full",size:"lg","data-testid":"button-send-request",children:[e.jsx($e,{className:"h-4 w-4 mr-2"}),l("property.request")]})}),e.jsxs(tn,{children:[e.jsxs(nn,{children:[e.jsxs(sn,{className:"flex items-center gap-2",children:[e.jsx($e,{className:"h-5 w-5 text-primary"}),l("property.request")]}),e.jsx(rn,{children:l("property.request.message")})]}),e.jsxs("div",{className:"py-4",children:[e.jsx(an,{placeholder:l("property.request.placeholder"),value:d,onChange:j=>u(j.target.value),className:"min-h-[100px]"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"üí° Soyez poli et mentionnez votre situation d'√©tudiant"})]}),e.jsxs(on,{children:[e.jsx(_,{variant:"outline",onClick:()=>p(!1),children:l("common.cancel")}),e.jsx(_,{onClick:g,disabled:m.isPending||!d.trim(),children:m.isPending?e.jsxs(e.Fragment,{children:[e.jsx(He,{className:"h-4 w-4 mr-2 animate-spin"}),l("property.request.sending")]}):e.jsxs(e.Fragment,{children:[e.jsx($e,{className:"h-4 w-4 mr-2"}),l("property.request.send")]})})]})]})]}),e.jsxs(_,{className:"w-full",variant:"outline",size:"lg",onClick:()=>n(`/messages?property=${i.id}&owner=${i.owner_id}`),"data-testid":"button-contact-owner",children:[e.jsx(mt,{className:"h-4 w-4 mr-2"}),l("property.contact")]})]})}):r?e.jsx(Te,{children:e.jsxs(De,{className:"text-center",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:(s==null?void 0:s.id)===i.owner_id?l("property.owner.own"):c?r?l("property.owner.student"):"Vous devez √™tre connect√© pour envoyer une demande.":"Seuls les √©tudiants peuvent envoyer des demandes. Si vous √™tes √©tudiant, veuillez vous d√©connecter et vous reconnecter."}),!1]})}):e.jsxs(Te,{children:[e.jsx(pn,{className:"h-4 w-4"}),e.jsxs(De,{className:"text-center",children:[e.jsx("p",{className:"font-medium mb-2",children:l("property.signin")}),e.jsx(Ce,{href:"/login",children:e.jsx(_,{className:"w-full",size:"lg",children:l("property.signin.button")})})]})]})]})]})})]})]})}):e.jsx(Be,{children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("div",{className:"max-w-md mx-auto text-center",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-muted flex items-center justify-center mx-auto mb-6",children:e.jsx(Ve,{className:"h-12 w-12 text-muted-foreground"})}),e.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Propri√©t√© introuvable"}),e.jsx("p",{className:"text-muted-foreground mb-6",children:"La propri√©t√© que vous recherchez n'existe pas ou a √©t√© supprim√©e."}),e.jsx(Ce,{href:"/properties",children:e.jsxs(_,{size:"lg",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Retour aux propri√©t√©s"]})})]})})})}export{Ns as default};
